## Web 管理后台与任务调度 (Web UI & Scheduler)

这部分需要分为 **后端服务 (Server)** 和 **前端界面 (Frontend)** 两部分来规划。

#### 1. 后端服务架构 (Rust Server)

你需要在这个 Rust 项目中集成一个 HTTP Server。

- **Web 框架:** 推荐使用 **`axum`** (它是 tokio 官方出品，性能极高且生态兼容性好) 或 `actix-web`。
    
- **持久化存储 (Database):**
    
    - 你需要存储：任务列表、定时规则 (Cron)、历史传输日志、错误记录。
        
    - **技术选型:** **SQLite** (通过 `sqlx` 或 `rusqlite` 库)。
        
    - _理由:_ SQLite 是单文件的，轻量级，不需要用户安装额外的数据库服务，非常适合这种工具。
        
- **任务调度器 (Scheduler):**
    
    - 需要一个内部的 Cron 调度器。
        
    - **技术选型:** **`tokio-cron-scheduler`**。
        
    - _功能:_ 解析 Cron 表达式（如 `0 30 * * * *`），在后台异步触发同步任务。
        
- **实时通信 (WebSocket):**
    
    - 为了在网页上看到实时的传输进度条（比如 "正在传输 54%"），HTTP 轮询太慢了。
        
    - 需要通过 WebSocket 将 Rust 后端的 `opendal` 传输进度实时推送到前端。
        

#### 2. 前端界面功能 (Web UI)

前端建议开发为单页应用 (SPA)，并最终**打包嵌入到 Rust 二进制文件中**（通过 `rust-embed`），这样用户依然只需要下载一个文件。

- **仪表盘 (Dashboard):**
    
    - 展示系统状态（CPU/内存占用）、当前正在运行的任务数、今日传输流量统计。
        
- **任务管理 (Task Manager):**
    
    - **创建任务向导:** 选择源（S3/本地） -> 选择目标 -> 配置过滤规则 -> 设置定时策略 (Cron)。
        
    - **列表视图:** 展示所有任务，提供 "立即运行"、"暂停调度"、"编辑"、"删除" 按钮。
        
- **日志审计 (Audit Logs):**
    
    - 查看历史执行记录：开始时间、耗时、成功/失败文件数、错误详情。
        
- **文件浏览器 (可选高级功能):**
    
    - 利用 `opendal` 的 `list` 能力，直接在网页上浏览 S3 或 FTP 的文件目录，方便用户选择路径。
